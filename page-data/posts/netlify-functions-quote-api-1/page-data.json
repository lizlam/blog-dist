{"componentChunkName":"component---src-templates-post-template-js","path":"/posts/netlify-functions-quote-api-1","result":{"data":{"markdownRemark":{"id":"07db9ee0-8479-5bc7-bd16-01bc933dbfff","html":"<p>This is a 3 part exercise on how to create and use your own quote API with Netlify functions.  </p>\n<p>Part 1: Get a Netlify function up and running locally.<br>\nPart 2: Deploy the function to the Netlify platform.<br>\nPart 3: Tie it all together by using the deployed API to display quotes in a React app.    </p>\n<p>A serverless function is a single purpose function that is maintained and hosted on a cloud provider’s infrastructure.  AWS Lambdas is Amazon’s solution to serverless functions and you can think of Netlify functions as a friendly wrapper around AWS Lambdas. </p>\n<p>Let’s start by installing the Netlify command line interface:    </p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install -g netlify-cli</code></pre></div>\n<p>Using <a href=\"https://reactjs.org/docs/create-a-new-react-app.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Create React App</a>, set up a new project and navigate into it:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npx create-react-app my-random-quotes\ncd my-random-quotes</code></pre></div>\n<p>Create a <code class=\"language-text\">netlify.toml</code> file with the following content:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">[build]\n  functions = &quot;functions/&quot;</code></pre></div>\n<p>This will define where we will put our API code.  In this case, a <code class=\"language-text\">functions</code> directory relative to our project root.    </p>\n<p>Let’s create a starter function:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">netlify functions:create</code></pre></div>\n<p>This will invoke an interactive prompt. Pick the <code class=\"language-text\">js-hello-world</code> template and name your function <code class=\"language-text\">quotes</code>.</p>\n<p>A <code class=\"language-text\">quotes</code> subdirectory will be created under the <code class=\"language-text\">functions</code> directory.  It will also create a <code class=\"language-text\">quotes.js</code> file.</p>\n<p>Open the <code class=\"language-text\">quotes.js</code> file and replace the contents with the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">// $project_root/functions/quotes/quotes.js\nexports.handler = async (event, context) =&gt; {\n\n  const quotes = [\n    {&quot;quote&quot;: &quot;You gotta be kidding me?&quot;},\n    {&quot;quote&quot;: &quot;Will you be my neighbor?&quot;},\n    {&quot;quote&quot;: &quot;Liz is awesome!&quot;}\n  ]; \n   \n  const number = Math.floor(Math.random() * quotes.length);\n   const quote = quotes[number];\n    \n   return {\n     statusCode: 200,\n     body: JSON.stringify(quote)\n   };\n    \n};</code></pre></div>\n<p>Don’t worry too much about the content of this code if it seems unfamiliar.  It’s just a bit of Node.js that will randomly return a quote from the quotes array.  </p>\n<p>Start a development environment with the following command:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">netlify dev</code></pre></div>\n<p>Ok, the hard part is over!    </p>\n<p>Let’s test our function locally by opening up a browser and navigating to <code class=\"language-text\">localhost:8888/.netlify/functions/quotes</code>.  </p>\n<p>If everything goes as expected, you should see a JSON object containing a random quote.</p>\n<p>In the next post, we’ll setup a Netlify account and deploy our function.</p>","fields":{"slug":"/posts/netlify-functions-quote-api-1","tagSlugs":null},"frontmatter":{"date":"2020-06-26","description":"A 3 part series on creating a quote API with Netlify Functions.","tags":null,"title":"Create Your Own Quote API with Netlify Functions - Part 1","socialImage":null}}},"pageContext":{"slug":"/posts/netlify-functions-quote-api-1"}}}