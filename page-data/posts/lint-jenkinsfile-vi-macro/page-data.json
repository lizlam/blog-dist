{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/lint-jenkinsfile-vi-macro","result":{"data":{"markdownRemark":{"id":"51ddd28f-ff2f-5025-9b45-70c5186e4198","html":"<p><em><a href=\"/posts/til-lint-jenkinsfile\">Yesterday</a> I Learned</em> how to lint a Jenkinsfile.  In the process of writing up that blog, I was curious about how it would work as a vi macro.</p>\n<p>For a quick refresher, here is how you record a macro:</p>\n<p><code class=\"language-text\">qa</code> - start recording a macro<br>\n<code class=\"language-text\">q</code> - stop recording<br>\n<code class=\"language-text\">@a</code> - play back the macro you just recorded.</p>\n<p>Also in vi, you can run shell commands using <code class=\"language-text\">!</code> while in escape mode.  Perfect!</p>\n<p>Putting it all together:</p>\n<p><strong>Step 1:  Open Your Jenkinsfile in vi</strong><br>\n<code class=\"language-text\">vi Jenkinsfile</code></p>\n<p><strong>Step 2:  Start Recording a Macro:</strong><br>\n:<code class=\"language-text\">qa</code></p>\n<p><strong>Step 3:  Enter the Steps to Run the Jenkinsfile Linter</strong><br>\n:<code class=\"language-text\">! java -jar /path/to/jenkins-cli.jar -s http://JENKINS_URL declarative-linter &lt; %</code></p>\n<p><strong>Step 4:  Stop Recording</strong><br>\n:<code class=\"language-text\">q</code></p>\n<p>Now whenever Iâ€™m working on a Jenkinsfile, I can hit <code class=\"language-text\">@a</code> to lint my current file.  So cool!</p>\n<p><em>Note: When you replay the macro, it may go too fast for you to see the results of the linting.  Since it was executed in the current shell, you will see the results to STDOUT when you exit vi.</em></p>","fields":{"slug":"/posts//posts/lint-jenkinsfile-vi-macro","tagSlugs":["/tag/vi/"]},"frontmatter":{"date":"2017-09-07","description":"Learn how to lint a Jenkinsfile in vi.","tags":["vi"],"title":"Create a Macro to Lint a Jenkinsfile","socialImage":null}}},"pageContext":{"slug":"/posts//posts/lint-jenkinsfile-vi-macro"}},"staticQueryHashes":["251939775","2764776372","401334301","63107425"]}