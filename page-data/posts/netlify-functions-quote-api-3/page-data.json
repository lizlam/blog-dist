{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/netlify-functions-quote-api-3","result":{"data":{"markdownRemark":{"id":"824eac3d-e7a1-5a1e-a899-e737e9ce0800","html":"<p>This is a 3 part exercise on how to create and use your own quote API with Netlify functions.</p>\n<p>Part 1: Get a Netlify function up and running locally.<br>\nPart 2: Deploy the function to the Netlify platform.<br>\nPart 3: Tie it all together by using the deployed API to display quotes in a React app.</p>\n<p>If you’ve been following along, you should now have a working public API that returns a random quote.  In this last part of the series, we will use that API and display the quote in our React app.</p>\n<p>Go into the <code class=\"language-text\">src</code> directory and replace <code class=\"language-text\">App.js</code> with the following:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nfunction App() {\n  const url = '/.netlify/functions/quotes';\n  const [quote, setQuote] = useState();\n\n  useEffect(() => {\n    const getQuote = async () => {\n      const response = await fetch(url);\n      const data = await response.json();\n      setQuote(data.quote);\n      return data;\n    }\n    getQuote();\n  }, []);\n\n  return (\n    &lt;div className=\"App\">\n      &lt;header className=\"App-header\">\n        &lt;p>\n          {quote}\n        &lt;/p>\n      &lt;/header>\n    &lt;/div>\n  );\n}\n\nexport default App;</code></pre></div>\n<p>If you are a React developer, this should feel pretty familiar to you.  If not, this is essentially a <a href=\"https://reactjs.org/docs/components-and-props.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">functional component</a> that uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">fetch</a> to call our quotes api.\nThe component returns the <a href=\"https://reactjs.org/docs/introducing-jsx.html\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">JSX</a> portion which displays the quote.</p>\n<p>Start your dev environment if you haven’t already with <code class=\"language-text\">netlify dev</code>.  Open up a browser and go to <code class=\"language-text\">http://localhost:8888</code>.  You should see a screen something like the following:</p>\n<p><img src=\"https://dev-to-uploads.s3.amazonaws.com/i/yde9uioup8xbh585d75z.png\" alt=\"Quote being displayed\"></p>\n<p>Commit and push these new changes to GitHub.  This should trigger a redeploy on Netlify.  Once the redeploy is complete, you should be able to navigate to your public url and see the same thing.</p>\n<p>Congratulations! You did it! You’ve created a quotes API, deployed it to Netlify and used it in a React app. Hopefully this example serves as a simple foundation on how to build API’s with the power of serverless technologies.</p>","fields":{"slug":"/posts//posts/netlify-functions-quote-api-3","tagSlugs":null},"frontmatter":{"date":"2020-07-07","description":"A 3 part series on creating a quote API with Netlify Functions.","tags":null,"title":"Create Your Own Quote API with Netlify Functions - Part 3","socialImage":null}}},"pageContext":{"slug":"/posts//posts/netlify-functions-quote-api-3"}},"staticQueryHashes":["251939775","2764776372","401334301","63107425"]}